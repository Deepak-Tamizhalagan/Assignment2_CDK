Resources:
  S3Bucket89836271E26052B:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: assignment2-s3-8983627
      VersioningConfiguration:
        Status: Enabled
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: Assignment2CdkStack/S3Bucket8983627/Resource
  Lambda8983627ServiceRole205D2602:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: Assignment2CdkStack/Lambda8983627/ServiceRole/Resource
  Lambda8983627ServiceRoleDefaultPolicy2A566D1C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - S3Bucket89836271E26052B
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - S3Bucket89836271E26052B
                        - Arn
                    - /*
          - Action:
              - dynamodb:BatchGetItem
              - dynamodb:BatchWriteItem
              - dynamodb:ConditionCheckItem
              - dynamodb:DeleteItem
              - dynamodb:DescribeTable
              - dynamodb:GetItem
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:PutItem
              - dynamodb:Query
              - dynamodb:Scan
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBTable89836279B82ACFE
                  - Arn
              - Ref: AWS::NoValue
        Version: "2012-10-17"
      PolicyName: Lambda8983627ServiceRoleDefaultPolicy2A566D1C
      Roles:
        - Ref: Lambda8983627ServiceRole205D2602
    Metadata:
      aws:cdk:path: Assignment2CdkStack/Lambda8983627/ServiceRole/DefaultPolicy/Resource
  Lambda8983627A7F1330E:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        ZipFile: "

          \        exports.handler = async function(event) {

          \          console.log('Lambda Executed!');

          \          return {

          \            statusCode: 200,

          \            body: 'Hello from CDK Lambda - 8983627'

          \          };

          \        }

          \      "
      Environment:
        Variables:
          BUCKET_NAME:
            Ref: S3Bucket89836271E26052B
      Handler: index.handler
      Role:
        Fn::GetAtt:
          - Lambda8983627ServiceRole205D2602
          - Arn
      Runtime: nodejs18.x
    DependsOn:
      - Lambda8983627ServiceRoleDefaultPolicy2A566D1C
      - Lambda8983627ServiceRole205D2602
    Metadata:
      aws:cdk:path: Assignment2CdkStack/Lambda8983627/Resource
  Lambda8983627LogGroupDAA59C58:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: Lambda8983627A7F1330E
      RetentionInDays: 731
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: Assignment2CdkStack/Lambda8983627/LogGroup/Resource
  DynamoDBTable89836279B82ACFE:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: id
          AttributeType: S
      KeySchema:
        - AttributeName: id
          KeyType: HASH
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 5
      TableName: assignment2-dynamodb-8983627
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: Assignment2CdkStack/DynamoDBTable8983627/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/4VSTW8CIRD9LXI0SNXGQ71p0zZNm8aoN2MahKmiLGyAtdmQ/e9lWVZt7MeJ4c3w3jDzhmQ4GJF+h37aHuOHnhQb4heOsgMO0Lu3t8RPC3YAt/JoE4M3mgEaoy7C6AjGCq2Ao7EzBWBkINNHKmdaClaGIg7WGV2iao3vP1RDVGFJsw2nxD8WirnwPlCbQjlx4t1RxSWYdGOatwlQR2G0ykC5iFTYI8r5wyW8ipVdtG5EW5EKC5oRP9cSgh61tsiAT0OTHuVGKCZyKieM6SJR41RTP5hEhqSIMqroFnj8pAAbFP03rJyYVLtO/S31rJVoR7PyKevCsHfPSgoFp1zs/t/k77zx43XjuIHjSFq6pa4zVyrXMOfBCA7qqdqLhn+Ao14jFbart5b4V719MrrIw2xkCk/GaerbigrzUtFM8+C8Jd3E9bj6vDBaTo0T9Q5eIG5MnVOuzOtwUW/mb/tF8qrCc7C6MAzORsEqWIzs7c1x2CeDOzLq7K0QvWRKMm/OL5RJrJAsAwAA
    Metadata:
      aws:cdk:path: Assignment2CdkStack/CDKMetadata/Default
    Condition: CDKMetadataAvailable
Conditions:
  CDKMetadataAvailable:
    Fn::Or:
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - af-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-3
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-3
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-4
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-northwest-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-2
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-3
          - Fn::Equals:
              - Ref: AWS::Region
              - il-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - me-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - me-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - sa-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-2
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-1
      - Fn::Equals:
          - Ref: AWS::Region
          - us-west-2

